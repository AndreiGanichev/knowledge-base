---
date: 2023-12-02
---
# Predicate lock

С помощью такой блокировки можно избавиться от [[ACID Isolation|phantoms]] аномалии.

Его суть в том, что блокировка "вешается" не на конкретные объекты, а на все объекты, подходящие под условие. Это как раз позволяет блокировку того, что еще не существует в БД. Недостатком такой блокировки является производительность, потому что каждый раз приходится вычислять предикат для объектов активных транзакций.

[[MySql locks|Next-key lock]] решает ту же проблему, но делает это не так точно, потому что вместо точной проверки предиката просто блокируется часть индекса. Зато такое решение гораздо более производительное.

---

## Источники

1. [[Designing Data-Intensive Applications book ]] Chapter 7. Transactions.

## Ссылки

1. link
