---
date: 2023-03-09
tags:
    - tag
---

1. автоматически генерируемый при вставке возрастающий *int* более выгодный, т.к. из него получается append-only [[Clustered index]]. Рандомный идентификатор, такой как ```System.Guid``` в .NET, плох тем, что при использовании B-Tree в качестве структуры хранения индекса придется делать больше перестроений, потому что новые идентификаторы будут попадать в середину дерева.
1. int проще для восприятия человеком, короче получаются URLs
1. int поддается перебору, потому его не должно быть в критичных публичных URLs
1. GUID можно генерировать на стороне приложения, что часто важно, например чтобы подставить в доменное событие о создание сущности. Но тут можно использовать [Hi/Lo](https://en.wikipedia.org/wiki/Hi/Lo_algorithm) алгоритм, если его поддерживает СУБД
1. чем меньше объем PK, тем:
    1. больше *fanout* [[B-tree]]
    1. меньше объем [[B-tree]] в целом, значит его легче закэшировать в памяти
    1. меньше объем *secondary index*, потому что часто листовые ноды индекса содержат в качестве ссылки значение первичного индекса.

---

### Источники:
1. link

### Ссылки:
1. [Primary Keys: IDs versus GUIDs](https://blog.codinghorror.com/primary-keys-ids-versus-guids/)
1. [To UUID or not to UUID ?](https://www.percona.com/blog/to-uuid-or-not-to-uuid/)
1. [[UUID]]
1. [[Index]]