---
date: 2022-08-22
tags:
    - boundaries
---

*Subdomain* можно описать как **совокупность связанных сценариев использования системы**. Subdomains определя.тся структурой бизнеса, его стратегией развития и преимущества перед конкуррентами.

**Определение границ поддоменов - это задача технического специалиста**, никто в мире бизнеса не может предоставить готового ответа. Для этого как раз и предназначены стратегические паттерны DDD - дать технарям инструмент для исследования и понимания бизнеса. Да, можно начать с орг. структуры, но это будет только грубый набросок. Знания о домене должны получаться напрямую от **доменных экспертов**, чтобы исключить искажения и неверные интерпретации. Доменные жксперты - это непосредственно люди бизнеса или даже конечные пользователи.

### Виды поддоменов

1. Core - суть, главная идея бизнеса, которая обеспечивает конкуррентные преимущества компании. Это может быть как абсолютно новая идея, так и оптимизация уже существующей бизнес идеи, чтобы максимизировать прибыль. Core не обязательно связан с IT: возможно IT система просто дает доступ пользователей к создаваемой физической ценности, например каким-то товарам. Core subdomain характеризуется:
    1. сложностью, чтобы конкуренты не могли просто взять и повторить эту логику
    1. изменчивостью, потому что эта та часть системы, которая постоянно должна улучшаться, проверять гипотезы, чтобы оставаться впереди конкурентов
Core SDs естественно должны быть реализованы внутри компании и ему должно уделяться наибольшее время и наилучшие разработчики.

> Если какая-то функция является главной для вашего бизнеса, сделайте ее сами. Джоэль Спольски. Джоэль о программировании. В защиту синдрома "это придумали здесь"

1. Generic - "solved problem". Это чаще всего нетривиальная проблема, но типовая для разных доменов и для нее уже есть готовое решение:
    1. open source
    1. SaaS
    1. коробочное решение
1. Supporting - часть(специфичная) бизнеса, которая не дает конкурретного преимущества, но все же необходимая для функционирования всей системы. Чаще всего сценарии использования тривиальные(ETL - extract, transform, load) и могут быть реализованы в виде CRUD операций. Идеально было бы использовать и тут готовое решение, но т.к. это специфичная часть домена, то вряд ли такое существует. Если все же есть чтото подобное, то тут надо рассматривать что дороже: адаптирвоать под свою специфику готовое решение, либо написать самостоятельно(т.к. логика простая).

*Subdomains* важно определить, потому что:

1. поможет при определении границ *Bounded contexts*, т.к. чаще всего хорошая стартовая точка проектирвоания это один поддомен = один BC
1. позволит оптимально подойти к реализации логики каждого поддомена: сконцентрироваться и инвестировать максимум в core, использовать готовые решения для generic, реализовать максимально просто или отдать на outsource supported
1. сразу определить те части бизнеса, которые лежат вне IT системы и сконцентрироваться на других

### Как искать границы

Начать можно с организационной структуры предприятия, а дальше уже углубляться в особенности бизнеса и выделять все более мелкие части. Причиной для остановки дальнейшего дробления могут быть:
1. получили логически согласованный и целостный набор сценариев использования
1. при дальнейшем разбиении поддомена получаем более мелкие поддомены того же типа.

Наиболее важно максимально точно определить границы core, чтобы сконцентрировать основные усилия на минимальном наборе сценариев. **Ключевыми могут быть несколько поддоменов в различных частях бизнеса**, их отличительной особенностью является критичность для успешности компании. Например ими могут быть и непосредственно основная предоставляемая услуга, и мобильное приложение(если UX критичен как конкурентное преимущество), и аналитическая часть(если оттуда получаем большое количество insights), и алгоритмы работающие с обращениями в техподдержку(если взаимодействие с клиентом является конкурентным преимуществом), и то что по сути не является основной услугой, но является сложной частью бизнеса и оптимизации дают существенный прирост прибыли.

---

### Источники:
1. Learning DDD. Chapter 1. Analyzing business domains. Vladik Khononov

### Ссылки:
1. link