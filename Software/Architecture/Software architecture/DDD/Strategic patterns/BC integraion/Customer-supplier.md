---
date: 2022-09-13
tags:
    - published language
---

Данные паттерны интеграции актуальны, когда существует явное направление зависимости между BCs и работающими в них командами. Одна команда(выполнение ее целей) зависит от другой, но не наоборот.

customer = downstream BC(UBC)
supplier = upstream BC(DBC)

### Conformist

Цели UBC не зависят от DBC и у команды DBC нет рычагов воздействия на команду UBC. Это может быть из-за организационной структуры или же когда есть интеграция со сторонней системой/провайдером, повлиять на способ интеграции и контракт которой нет никакой возможности.

Паттерн интеграции conformist предполагает, что DBC принимает(*conform*) UL(и соотетственно модель), используемую в UBC.

Если DBC не может принять модель UBC, то он может на своей стороне реализовать ACL.

### Anticorruption layer

Суть паттерна состоит в том, чтобы проксировать все общение с UBC через ACL, который будет выступать переводчиком между UL DBC и контрактами, которые предоставляет UBC. В случае если несколько DBC реализуют у себя ACL для общения с одним и тем же UBC, то есть смысл вместо этого перенести место перевода на сторону UBC(если есть такая возможность) и использовать паттерн OHS.

#### Когда использовать

1. DBC - это core [[Subdomain]]
1. модель UBC совсем не пригодна для исопльзования в DBC
1. контракты UBC часто меняются

#### Реализация

ACL может быть реализован как часть компонента DBC, так и выделен в отдельный BC - **interchange context**

### Open host service

По сравнению с ACL инвертирует место, в котором происходит перевод с одного UL(модели) на другой. В данном случае UBC на своей стороне формирует **Published language** и выражает на нем все свои контракты. В этом случае DBCs могут и не использовать ACL, а работать в терминах PL.

#### Достоинства

1. позволяет изменять модель UBC и не бояться что-то сломать в DBCs, конечно при условии сохранения стабильным PL
1. позволяет поддерживать несколько версий PL

---

### Источники:
1. Learning DDD. Chapter 4. Integrating bounded contexts. Vladik Khononov
1. Learning DDD. Chapter 9. Communication patterns. Model translation. Vladik Khononov

### Ссылки:
1. 