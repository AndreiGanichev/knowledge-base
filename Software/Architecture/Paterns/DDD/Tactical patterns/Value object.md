---
date: 2022-09-08
tags:
    - tag
---

Value object - это объект который полностью идентифицируется значениями его полей. Часто используется для описаня характеристик, свойств объектов.

Следствия:

1. не нужен уникальный ID
1. immutability: если меняем значение поля, то получаем абсолютно новый экземпляр VO

### Пример

Цвет в RGB формате полностью определяется значениями для каждой составляющей

### Цель паттерна

1. собрать мелкую бизнес логику(валидация, конвертация, сравнение и т.п.) вместе с данными. Получаем тестируемую логику в одном месте и гарантируем валидность данных, которыми оперирует доменную модель(*защитное программирование*). Иначе получим дублирование этой логики по кодовой базе.
1. избежать *Primitive obsession* и сделать код более выразительным и соответствующим *UL*
1. сделать код более строгим с точки зрения типизации
1. сделать нейминг более лаконичным(```CountryCode -> Country```), т.к. будем иметь конкретный, а не примитивный тип

### Когда использовать?

#### Вместо примитивных типов

Использование VO вместо примитивных типов - это способ избавиться от [[Primitives obsessions]].

[[Венгерская нотация]], как будто бы была призвана решить схожую проблему: помогать различать переменные по их семантике, даже если их типы совпадают. VO просто идут еще дальше и автоматизируют проверки, перекладывая их с плечь человека, читающего код, на плечи компилятора.

#### Вместо [[Entity]]

*immutability* VO делает его использование более простым, чем *Entity*

---

## Источники

1. Learning DDD. Chapter 6. Tackling complex business logic. Vladik Khononov

## Ссылки

1. [[Ubiquotous Language]]
1. [From Primitive Obsession to Domain Modelling](https://blog.ploeh.dk/2015/01/19/from-primitive-obsession-to-domain-modelling/)
1. Защитное программирование
1. ID как VO
