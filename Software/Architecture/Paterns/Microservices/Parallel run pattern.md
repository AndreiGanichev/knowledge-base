---
date: 2025-11-07
---
# Parallel run

Это паттерн выноса функционала из монолита в отдельный сервис. Применим, когда нужно максимально обезопасится от ошибок в новой реализации.

## Ограничение

Является достаточно трудоемким в реализации.

## Описание

При выполнении запроса выполняется как текущая монолитная реализация, так и новая микросервисная. Резульататы работы сравниваются сразу или сохраняются для последующего анализа. Монолитная реализация отключается, когда считают, что все ошибки исправлены.

Анализировать можно как результат выполнения бизнес логики, так и соответствие микросервиса НФТ.

Иногда недопустимо выполнять обе реализации, например реализация предполагает отправку email. В этом случае на стороне микросервиса можно для такого функицонала использовать  *spy* из числа [test doubles](https://martinfowler.com/bliki/TestDouble.html).

Для упрощения реализации паттерна можно использовать библиотеки, например [GitHub Scientist](https://github.blog/developer-skills/application-development/scientist/).

---

## Источники

1. [[Monolith to microservices book]]

## Ссылки

1. [[Migration from monolith]]
