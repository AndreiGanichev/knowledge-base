---
date: 2022-06-07
---

Подсистема *failure detector* является неотемлимой частью распределенной системы и отвечает за отслеживание состояния процессов в распределнной системе (нод кластера).
Своевременное обнаружение отказа(проблемы с нодой или сетью) позволяет:
1. избежать лишней нагрузки на сеть в ходе отправке упавшей ноде сообщений
1. избежать распространения ошибок
1. избежать каскадных отказов

## Свойства failure detection алгоритма

Failure detection алгоритм сам является распределенным алгоритмом и характеризуется следующими свойствами:
1. liveness - если нода отказала, то алгоритм это обнаружит
1. safety - если алгоритм пометил ноду как отказавшую, то она действительно отказала

Качество конкретной реализации алгоритма характеризуется:
1. полнота(*completeness*) - способность алгоритма в итоге обнаружить отказ
1. точность(*accuracy*) - вероятность ошибки(*false positives* или *false negatives*)
1. скорость обнаружения отказа (*efficiency*)

Точность и скорость являются компромисными характеристиками: чем более точный алгоритм обнаружения отказа, тем он менее быстрый и наоборот. Например нода может быть просто замедлилась(заработал *GC*) или сеть до ноды забилась и долго идут ping/heartbeats. Если алгоритм будет ждать **дольше**, то она может в итоге ответить и алгоритм **точно** определит, что нода отказала.


## Реализации

### Pings and heartbeatbeat



---

### Источники:
1. link

### Ссылки:
1. [[Cascade failure]]
1. [[Distributed algorithms]]
1. [[Failure detection allow consensus in async system]]