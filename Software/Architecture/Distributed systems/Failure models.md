---
date: 2022-06-06
tags:
    - reliability
---
# Failure models

## Определения

Faults:

1. processes
1. links

В распределенной системе возможен целый спектр проблем как с процессами, так и с коммуникациями:

1. процессы могут падать, пропускать сообщения, долго выполнять вычисления
1. связи между процессами могут обрываться, задерживать сообщения

**Failure model** описывает какие проблемы предполагает распределенная система и как с и обрабатывает.

## Процессы

С точки зрения процессов(нод)-участников распределнного алгоритма:

1. **crash-stop** модель предполагает, что процессы могут упасть и они уже не возвращаются в работу алгоритма. Т.е. сама нода поднимается после падения и может снова "зайти" в распределенный алгоритм. Но для алгоритма это будет уже совершенно другой процесс (другой ID). Распределенный алгоритм не ожидает и не предполагает, что нода восстановится(например с каким-то состоянием на момент падения). *Faulty if crashes*
1. **crash-recovery** модель предполагает, что процессы возвращаются в работу алгоритма после падения за конечное время.
1. **byzantine** модель допускает любое отклонение от алгоритма, в т.ч. вредоносное. *Faulty if deviates from algorithms*

Процесс *correct*, если не *faulty*. *Crash-stop* предполагает фактически только один вид отказа - падение процесса без возвращения к работе в алгоритме, тогда как *byzantine* наоборот предполагает наиболее широкий спектр проблем в том числе вредоносные действия процесса.

## Links

С точки зрения возможны проблем при обмене сообщениями между процессами выделяют следующие виды связей(links):

1. **reliable**. Отправленные сообщения доходят в итоге до получателя. Сообщения не появляются ниоткуда. Искажение порядка сообщений возможно.
1. **fair-loss**. Сообщения не появляются ниоткуда. Сообщения могут теряться, но если ретраить отправку, то в итоге дойдут
1. **arbitrary**. Сообщения могут теряться, создаваться ниоткуда, искажаться. Пример: *man in the middle*

Из менее надежной link можно получить более надежную:
arbitrary --*TLS*--> fair-loss --*retry+deduplication*--> reliable

---

## Источники

1. [Kleppmann. Distributed Systems 2.3: System models](https://youtu.be/y8f7ZG_UnGI)
1. [Kleppmann. Distributed Systems 2.4: Fault tolerance](https://youtu.be/43TDfUNsM3E)

## Ссылки

1. #[[Reliability]]
1. [[Failure detection]]#
1. [[Replication]]
1. [[Two generals problem]]
1. [[Byzantine generals problem]]
