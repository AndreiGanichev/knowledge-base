---
date: 2022-07-28
tags:
    - tag
---
# Memory

## Буфер

Размер буфера, который задается при работе со стримом, - это размер "ложки", которой бинарные данные из одного места будут переливаться в другое. Надо учитывать, что на этот буфер также выделяется память, поэтому это компромисное значение.

С одной стороны можно выделить буфер равный общему объему данных. Тогда данные прочитаются в стрим одним махом, но в управляемой памяти придется выделить двойной объем, потому что размер буфера будет примерно равен размеру итогового стрима. Такой подход оправдывается, если чтение идет из медленного IO, например с медленного диска. В этом примере мы пожертвовав объемом выделяемой памяти, получим экономию походов на диск.

Но если походы на диск не так страшны, а хотим сократить объем управляемой памяти, то можем сделать небольшой буфер, чтобы стрим наполнялся за несколько подходов.

---

## Источники

1. link

## Ссылки

1. link
